<div class="container" *ngIf="auth.user$ | async as user">

  <br>

  <div class="card">
      <h1>Search Post</h1>
    <form (submit)="search()" class="card-body">
      <div>
        <div>
          <h5 class="card-title">Title</h5>
          <input style="width: 100%;" class="card-text" type="text" [(ngModel)]="title" name="title"
            placeholder="Search">
        </div>

        <div>
          <br>

          <h5 class="card-title">Author</h5>
          <input style="width: 100%;" class="card-text" type="text" [(ngModel)]="author" name="author"
            placeholder="Author">

        </div>

        <div>
          <br>
          <h5 class="card-title">Tags</h5>

          <select name="tags" id="tags" [(ngModel)]="tagId" name="tagId">

            <option selected="true" value="" disabled="disabled">Select Hobby</option>
            <option *ngFor="let tag of tagOptions" value="{{tag._id}}">{{tag.name}}</option>

          </select>
          <button (click)="addHobby()" type="button" class="btn btn-primary btn-sm" value="Add">
            <img src="/assets/img/plus-circle.svg" alt="Add" width="100%" height="100%">
          </button>

        </div>
        <div class="alert alert-warning" role="alert" *ngIf="hobbyExists">Hobby already exists in your post</div>
        <a *ngFor="let hbby of hobbyNames, index as i">
          <span class="badge badge-secondary">
            <a *ngIf="hbby != null">
              {{hbby}}
            </a>
            <a *ngIf="hbby == null">
              Invalid tag. Please remove this tag.
            </a> <span (click)="deleteHobby(tags[i])" class="badge badge-secondary">X</span>
          </span>
        </a>
        <br>

        <input type="submit" class="btn btn-primary btn-sm" value="Search">

      </div>
    </form>
  </div>

  <div *ngIf="postsCopy.length ==0" class="card">
    <a>No posts to show.</a>
  </div>

  <div *ngIf="postsCopy.length>0">
    <div *ngFor="let post of postsCopy" class="card">
      <div class="btn">
        <div *ngIf="editPostId != post._id" class="card" routerLink="/post/{{post._id}}">
          <div class="card-body">
            <div>
              <h1>{{ post.title }}</h1>
            </div>
            <div>
              by {{post.author}} {{ post.date_created | date:"MM/dd/yyyy 'at' h:mma" }}
            </div>
            <div *ngIf="post.date_modified != null" class="font-weight-bold">
              (Edited)
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
